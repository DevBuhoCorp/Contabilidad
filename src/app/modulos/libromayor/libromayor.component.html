<mat-card class="p-0">
  <!--<div class="m-333">-->
  <!--<button mat-raised-button class="mb-05" color="primary" (click)="creado = true">Nuevo Movimiento</button>-->
  <!--&lt;!&ndash;<a mat-icon-button mat-sm-button color="warn" routerLink="nuevatransaccion" matTooltip="Añadir Nuevo Movimiento">&ndash;&gt;-->
  <!--<a mat-icon-button mat-sm-button color="warn" matTooltip="Añadir Nuevo Movimiento" (click)="creado = true"-->
  <!--[disabled]="creado">-->
  <!--<mat-icon>library_add</mat-icon>-->
  <!--</a>-->
  <!--</div>-->
  <div class="m-333">
    <div fxLayout="row wrap">
      <div fxFlex="20" class="pr-1">
        <mat-form-field class="full-width">
          <input matInput [matDatepicker]="pickerInicio" placeholder="Fecha Inicio" [(ngModel)]="dtpInicio">
          <mat-datepicker-toggle matSuffix [for]="pickerInicio"></mat-datepicker-toggle>
          <mat-datepicker #pickerInicio></mat-datepicker>
        </mat-form-field>
      </div>
      <div fxFlex="20" class="pr-1">
        <mat-form-field class="full-width">
          <input matInput [matDatepicker]="pickerFin" placeholder="Fecha Fin" [(ngModel)]="dtpFin">
          <mat-datepicker-toggle matSuffix [for]="pickerFin"></mat-datepicker-toggle>
          <mat-datepicker #pickerFin></mat-datepicker>
        </mat-form-field>
      </div>
    </div>

    <div fxLayout="row wrap" fxLayoutAlign="right center">

      <mat-form-field fxFlex="20" class="pr-1">
        <mat-select placeholder="Tipo de cuenta" [(ngModel)]="selTCuenta">
          <mat-option *ngFor="let tcuenta of tcuentas" [value]="tcuenta.Cod" ngDefaultControl>{{ tcuenta.Descripcion }}</mat-option>
        </mat-select>
      </mat-form-field>


      <mat-form-field fxFlex="20" class="pr-1">
        <mat-select placeholder="Tipo de Transaccion" [(ngModel)]="selTTransaccion">
          <mat-option *ngFor="let ttransacion of ttransacions" [value]="ttransacion.Cod" ngDefaultControl>{{
            ttransacion.Descripcion }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field fxFlex="20" *ngIf="selTTransaccion == 'app' " style="margin-right: 5px;">
        <mat-select placeholder="Seleccione la Aplicación" [(ngModel)]="selApp">
          <mat-option value="ALL" ngDefaultControl>Todos</mat-option>
          <mat-option *ngFor="let app of aplicacions | async " [value]="app.ID" ngDefaultControl>{{ app.Descripcion }}</mat-option>
        </mat-select>
      </mat-form-field>

    </div>
  </div>
  <div class="m-333" style="display: flex; justify-content: space-between;">


    <!--<span>Total: Debe {{Totales.Debe | currency}}, Haber {{Totales.Haber | currency}}</span>-->

    <button mat-raised-button class="mb-05" color="primary" (click)="getItems()">
      Filtrar
    </button>
    <!--<div fxFlex="20" class="pr-1">-->
    <!--<mat-form-field class="full-width">-->
    <!--<input matInput name="FechaInicio" placeholder="Fecha de Inicio" [matDatepicker]="DateInicio">-->
    <!--<mat-datepicker-toggle matSuffix [for]="DateInicio"></mat-datepicker-toggle>-->
    <!--</mat-form-field>-->
    <!--<mat-datepicker #DateInicio></mat-datepicker>-->
    <!--</div>-->


    <!--<div fxFlex="20" class="pr-1">-->
    <!--<mat-form-field class="full-width">-->
    <!--<input matInput name="FechaFin" placeholder="Fecha de Fin" [matDatepicker]="DateFin">-->
    <!--<mat-datepicker-toggle matSuffix [for]="DateFin"></mat-datepicker-toggle>-->
    <!--</mat-form-field>-->
    <!--<mat-datepicker #DateFin></mat-datepicker>-->
    <!--</div>-->

    <!--<a mat-icon-button mat-sm-button color="warn" matTooltip="Refrescar período del reporte">-->
    <!--<mat-icon>refresh</mat-icon>-->
    <!--</a>-->

    <!-- <a mat-icon-button mat-sm-button color="warn" matTooltip="Agrupar por cuenta contable">
          <mat-icon>group_work</mat-icon>
        </a>-->

    <div class="select-group">
      <mat-form-field class="full-width">
        <mat-select placeholder=" Seleccione número de items:" [(ngModel)]="selPageSize" (selectionChange)=" getItems()">
          <mat-option *ngFor="let page of pageSize" [value]="page" ngDefaultControl>{{ page }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>



  <mat-card-content class="p-0">
    <mat-card-title class="mat-bg-primary m-0">
      <div class="card-title-text">
        <!--<span>Suman y Pasan: Debe {{TotalDebe | currency}}, Haber {{TotalHaber | currency}}</span>-->
        <span>Total: Debe {{Totales.Debe | currency}}, Haber {{Totales.Haber | currency}}</span>
      </div>
      <mat-divider></mat-divider>
    </mat-card-title>
    <ngx-datatable class="material ml-0 mr-0" [rows]="items.data" [columnMode]="'force'" [headerHeight]="50"
      [footerHeight]="50" [rowHeight]="'auto'" [externalPaging]="true" [count]="items.total" [limit]="items.per_page"
      (page)='setPage($event)'>

      <!--<ngx-datatable class="material ml-0 mr-0" [rows]="items.data" [columnMode]="'flex'" [headerHeight]="50"
          [footerHeight]="50" [externalPaging]="true" [count]="items.total" [limit]="items.per_page" [rowHeight]="'auto'"
          (page)='setPage($event)'>-->

      <ngx-datatable-column name="Fecha Transacción" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.Fecha | date:'medium' }}
        </ng-template>
      </ngx-datatable-column>

      <!--<ngx-datatable-column name="Documento" [flexGrow]="1">-->
      <!--<ng-template let-row="row" ngx-datatable-cell-template>-->
      <!--{{ row?.DContable }}-->
      <!--</ng-template>-->
      <!--</ngx-datatable-column>-->


      <ngx-datatable-column name="Etiqueta" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.Etiqueta }}
        </ng-template>
      </ngx-datatable-column>

      <!--<ngx-datatable-column name="Estacion" [flexGrow]="1">-->
      <!--<ng-template let-row="row" ngx-datatable-cell-template>-->
      <!--{{ row?.Estacion}}-->
      <!--</ng-template>-->
      <!--</ngx-datatable-column>-->

      <!--<ngx-datatable-column name="Aplicación" [flexGrow]="1">-->
      <!--<ng-template let-row="row" ngx-datatable-cell-template>-->
      <!--{{ row?.Estacion}}-->
      <!--</ng-template>-->
      <!--</ngx-datatable-column>-->

      <ngx-datatable-column name="Debe" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.Debe | currency }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Haber" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.Haber | currency }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Actions" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          <button mat-icon-button mat-sm-button color="warn" [routerLink]="['lista', row.ID]">
            <mat-icon>list</mat-icon>
          </button>
        </ng-template>
      </ngx-datatable-column>

      <!--<ngx-datatable-footer>
            <ng-template ngx-datatable-footer-template>
              <div style="padding: 5px 10px">
                <div>
                  <strong>Total Debe</strong>: {{Totales.Debe | currency}}
                  <strong>Total Haber</strong>: {{Totales.Haber | currency }}
                </div>
                <hr style="width:100%" />
              </div>
            </ng-template>
          </ngx-datatable-footer>-->





    </ngx-datatable>

    <!--<div class="mat-bg-primary m-0">-->
      <!--<div class="card-title-text" *ngIf="VienenDebe != 0">-->
        <!--<span>Vienen: Debe {{VienenDebe | currency}}, Haber {{VienenHaber | currency}}</span>-->
      <!--</div>-->
    <!--</div>-->

  </mat-card-content>
