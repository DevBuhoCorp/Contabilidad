<mat-card>
  <mat-card-content class="mt-1">
    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
      <div>
        <button
          mat-raised-button
          class="mr-1"
          color="warn"
          (click)="return()"
        >
          <mat-icon>arrow_back</mat-icon>
          Regresar
        </button>
        <button
          mat-raised-button
          class="mr-1"
          color="primary"
          (click)="openPopUp({}, true)"
        >
          Añadir Asiento
        </button>
        <button
          mat-raised-button
          class="mr-1"
          color="primary"
          (click)="save()"
        >
          Guardar Transacción
        </button>
      </div>
    </div>

    <ngx-datatable
      class="material"
      [rows]="ListaDetalles"
      [columnMode]="'flex'"
      [headerHeight]="50"
      [footerHeight]="50"
      [rowHeight]="'auto'"
    >
      <ngx-datatable-column name="Cuenta Contable" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.Cuenta }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Etiqueta" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.Etiqueta }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Debe" [flexGrow]="0.25">
        <ng-template let-row="row" ngx-datatable-cell-template>
          <div style="text-align: right;">
            {{ row?.Debe | currency: "USD":"symbol":".2-4" }}
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Haber" [flexGrow]="0.25">
        <ng-template let-row="row" ngx-datatable-cell-template>
          <div style="text-align: right;">
            {{ row?.Haber | currency: "USD":"symbol":".2-4" }}
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Acciones" [flexGrow]="0.5">
        <ng-template let-row="row" ngx-datatable-cell-template>
          <div *ngIf="row?.Ajuste">
            <a
              mat-icon-button
              mat-sm-button
              color="primary"
              class="mr-1"
              (click)="openPopUp(row)"
            >
              <mat-icon>edit</mat-icon>
            </a>
            <a
              mat-icon-button
              mat-sm-button
              color="warn"
              (click)="deleteItem(row)"
            >
              <mat-icon>delete</mat-icon>
            </a>
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-footer>
        <ng-template ngx-datatable-footer-template>
          <div style="padding: 5px 10px">
            <div>
              <strong>Total Debe</strong>: {{ Debe | currency }}
              <strong>Total Haber</strong>: {{ Haber | currency }}
            </div>
            <hr style="width:100%" />
          </div>
        </ng-template>
      </ngx-datatable-footer>
    </ngx-datatable>
  </mat-card-content>
</mat-card>
